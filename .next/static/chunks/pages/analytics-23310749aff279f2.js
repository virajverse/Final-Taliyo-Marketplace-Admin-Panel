(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{8178:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return t(7842)}])},4489:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(1134).Z)("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]])},7842:function(e,s,t){"use strict";t.r(s);var a=t(5893),l=t(7294);t(5152);var r=t(6880),n=t(437),c=t(6111),i=t(3156),d=t(4489),o=t(5928),m=t(6259),x=t(5151);s.default=e=>{let{user:s}=e,[t,h]=(0,l.useState)({totalRevenue:0,totalItems:0,totalClicks:0,avgRating:0,growthData:[],categoryData:[],clickTrends:[],topItems:[]}),[g,u]=(0,l.useState)(!0),[j,p]=(0,l.useState)("30");(0,l.useEffect)(()=>{s&&f()},[s,j]);let f=async()=>{try{let e=new Date;e.setDate(e.getDate()-parseInt(j));let{count:s}=await m.O.from("items").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:t}=await m.O.from("order_clicks").select("*",{count:"exact",head:!0}),a=Array.from({length:30},(e,s)=>{let t=new Date;return t.setDate(t.getDate()-(29-s)),{date:t.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:Math.floor(5e3*Math.random())+2e3,users:Math.floor(200*Math.random())+100,orders:Math.floor(50*Math.random())+20}}),l=Array.from({length:7},(e,s)=>{let t=new Date;return t.setDate(t.getDate()-(6-s)),{day:t.toLocaleDateString("en-US",{weekday:"short"}),clicks:Math.floor(100*Math.random())+50}});h({totalRevenue:247500,totalItems:s||0,totalClicks:t||0,avgRating:4.8,growthData:a,categoryData:[{name:"Services",value:45,color:"#8B5CF6"},{name:"Products",value:30,color:"#06B6D4"},{name:"Packages",value:25,color:"#10B981"}],clickTrends:l,topItems:[{name:"Web Development",clicks:152,revenue:45600},{name:"Mobile App Design",clicks:128,revenue:38400},{name:"Digital Marketing",clicks:96,revenue:28800},{name:"Graphic Design",clicks:84,revenue:25200}]})}catch(e){console.error("Error loading analytics:",e)}finally{u(!1)}};return s?(0,a.jsx)(r.Z,{user:s,children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Comprehensive insights into your marketplace performance"})]}),(0,a.jsxs)("select",{value:j,onChange:e=>p(e.target.value),className:"form-input w-auto",children:[(0,a.jsx)("option",{value:"7",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30",children:"Last 30 days"}),(0,a.jsx)("option",{value:"90",children:"Last 90 days"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-100 text-sm",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-3xl font-bold",children:["₹",t.totalRevenue.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(n.Z,{size:16,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm",children:"+12.5% from last month"})]})]}),(0,a.jsx)(c.Z,{size:32,className:"text-purple-200"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-100 text-sm",children:"Total Items"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:t.totalItems}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(n.Z,{size:16,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm",children:"+8.2% from last month"})]})]}),(0,a.jsx)(i.Z,{size:32,className:"text-blue-200"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-100 text-sm",children:"Total Clicks"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:t.totalClicks}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(n.Z,{size:16,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm",children:"+15.7% from last month"})]})]}),(0,a.jsx)(d.Z,{size:32,className:"text-green-200"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-orange-100 text-sm",children:"Avg Rating"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:t.avgRating}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(n.Z,{size:16,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm",children:"+0.3 from last month"})]})]}),(0,a.jsx)(o.Z,{size:32,className:"text-orange-200"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Growth"}),(0,a.jsx)(x.Rk,{data:t.growthData})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),(0,a.jsx)(x.nX,{data:t.categoryData}),(0,a.jsx)("div",{className:"flex justify-center space-x-4 mt-4",children:t.categoryData.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.name})]},s))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weekly Click Trends"}),(0,a.jsx)(x.Lr,{data:t.clickTrends})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Items"}),(0,a.jsx)("div",{className:"space-y-4",children:t.topItems.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.clicks," clicks"]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"font-medium text-green-600",children:["₹",e.revenue.toLocaleString()]})})]},s))})]})]})]})}):null}}},function(e){e.O(0,[941,736,555,888,774,179],function(){return e(e.s=8178)}),_N_E=e.O()}]);