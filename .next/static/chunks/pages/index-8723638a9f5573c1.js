(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(8606)}])},8606:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(5893),r=s(7294);s(5152);var l=s(6880),c=s(1134);let i=(0,c.Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),n=(0,c.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var o=s(6111);let d=(0,c.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var m=s(437),x=s(6259),h=s(5151),u=e=>{let{user:t}=e,[s,c]=(0,r.useState)({totalItems:0,totalClicks:0,totalAdmins:0,recentClicks:0,totalRevenue:127500,avgSessionTime:"02:34",conversionRate:8.7,responseTime:95}),[u,g]=(0,r.useState)([]),[p,y]=(0,r.useState)(!0),[f,j]=(0,r.useState)([]),[v,N]=(0,r.useState)([]),[b,w]=(0,r.useState)([]);(0,r.useEffect)(()=>{t&&k()},[t]);let k=async()=>{try{let e=0;try{let{count:t}=await x.O.from("items").select("*",{count:"exact",head:!0}).eq("is_active",!0);e=t||0}catch(e){console.log("Items table not accessible:",e.message)}let t=0;try{let{count:e}=await x.O.from("order_clicks").select("*",{count:"exact",head:!0});t=e||0}catch(e){console.log("Order_clicks table not accessible:",e.message)}let s=2;try{let{count:e}=await x.O.from("admins").select("*",{count:"exact",head:!0}).eq("is_active",!0);s=e||2}catch(e){console.log("Admins table not accessible:",e.message)}let a=0;try{let e=new Date;e.setHours(e.getHours()-24);let{count:t}=await x.O.from("order_clicks").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString());a=t||0}catch(e){console.log("Recent clicks not accessible:",e.message)}let{data:r}=await x.O.from("order_clicks").select("\n          *,\n          items (\n            title,\n            type\n          )\n        ").order("created_at",{ascending:!1}).limit(10),l=Array.from({length:12},(e,t)=>{let s=new Date;return s.setMonth(s.getMonth()-(11-t)),{month:s.toLocaleDateString("en-US",{month:"short"}),growth:Math.floor(500*Math.random())+200,revenue:Math.floor(5e4*Math.random())+25e3,users:Math.floor(100*Math.random())+50}});c({totalItems:e||0,totalClicks:t||0,totalAdmins:s||2,recentClicks:a||0,totalRevenue:127500,avgSessionTime:"02:34",conversionRate:8.7,responseTime:95}),g(r||[]),j(l),N([{name:"Services",value:45,color:"#8B5CF6"},{name:"Products",value:30,color:"#06B6D4"},{name:"Packages",value:25,color:"#10B981"}]),w([{action:"Service Created",user:"Admin",target:"Web Development",timestamp:"2024-01-15 14:30",status:"Success"},{action:"Item Updated",user:"Admin",target:"Mobile Design",timestamp:"2024-01-15 13:45",status:"Success"},{action:"Category Added",user:"Admin",target:"Digital Marketing",timestamp:"2024-01-15 12:20",status:"Success"},{action:"Service Activated",user:"System",target:"Graphic Design",timestamp:"2024-01-15 11:15",status:"Success"},{action:"Analytics Updated",user:"System",target:"Monthly Report",timestamp:"2024-01-15 10:30",status:"Success"}])}catch(e){console.error("Error loading dashboard data:",e)}finally{y(!1)}},S=[{title:"Sessions",value:"".concat(s.totalClicks,"k"),subtitle:"+18% from last month",icon:i,gradient:"from-purple-500 to-purple-600"},{title:"Avg Sessions",value:s.avgSessionTime,subtitle:"+12% from last month",icon:n,gradient:"from-blue-500 to-blue-600"},{title:"Revenue",value:"₹".concat((s.totalRevenue/1e3).toFixed(0),"k"),subtitle:"+25% from last month",icon:o.Z,gradient:"from-green-500 to-green-600"},{title:"Conversion Rate",value:"".concat(s.conversionRate,"%"),subtitle:"+8% from last month",icon:d,gradient:"from-orange-500 to-orange-600"}];return t?(0,a.jsx)(l.Z,{user:t,children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Welcome back! Here's what's happening with your marketplace."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map((e,t)=>(0,a.jsx)("div",{className:"bg-gradient-to-br ".concat(e.gradient," rounded-xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white/80 text-sm font-medium",children:e.title}),(0,a.jsx)("p",{className:"text-3xl font-bold mt-2",children:p?(0,a.jsx)("div",{className:"h-8 w-16 bg-white/20 rounded animate-pulse"}):e.value}),(0,a.jsxs)("div",{className:"flex items-center mt-3",children:[(0,a.jsx)(m.Z,{size:14,className:"mr-1 text-white/90"}),(0,a.jsx)("span",{className:"text-sm text-white/90 font-medium",children:e.subtitle})]})]}),(0,a.jsx)("div",{className:"bg-white/20 p-3 rounded-lg backdrop-blur-sm",children:(0,a.jsx)(e.icon,{size:24,className:"text-white"})})]})},t))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg border border-gray-100",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Profile Growth"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Monthly marketplace analytics"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"₹32001"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"This Month"})]})})]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(h.Lr,{data:f})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"relative inline-flex items-center justify-center w-32 h-32 mb-4",children:[(0,a.jsxs)("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 36 36",children:[(0,a.jsx)("path",{d:"m18,2.0845 a 15.9155,15.9155 0 0,1 0,31.831 a 15.9155,15.9155 0 0,1 0,-31.831",fill:"none",stroke:"#f1f5f9",strokeWidth:"2"}),(0,a.jsx)("path",{d:"m18,2.0845 a 15.9155,15.9155 0 0,1 0,31.831 a 15.9155,15.9155 0 0,1 0,-31.831",fill:"none",stroke:"#8B5CF6",strokeWidth:"2",strokeDasharray:"75, 100",strokeLinecap:"round"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:"75%"})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Overall Performance"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"+5% from last month"})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Response Time"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-green-600",children:[s.responseTime,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-blue-600",children:"98.2%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Uptime"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-purple-600",children:"99.9%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Active Users"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-orange-600",children:"1,247"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Activities"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Latest system activities and user actions"})]}),(0,a.jsx)("button",{className:"text-sm text-purple-600 hover:text-purple-800 font-medium",children:"View All"})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:b.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.action}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.user}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.target}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.timestamp}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("Success"===e.status?"bg-green-100 text-green-800":"Warning"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})})]},t))})]})})]})]})}):null}}},function(e){e.O(0,[941,736,555,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);