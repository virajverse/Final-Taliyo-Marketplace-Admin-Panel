(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{6880:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var s=r(5893),a=r(7294),l=r(1664),n=r.n(l),i=r(1163),d=r(8979),o=r(3283),c=r(3633),u=r(5237),m=r(3156),x=r(9176),h=r(5928),f=r(5264),g=r(2190),y=e=>{let{isOpen:t,onClose:r}=e,a=(0,i.useRouter)(),l=[{name:"Dashboard",href:"/",icon:d.Z},{name:"Upload Data",href:"/upload",icon:o.Z},{name:"Click Tracking",href:"/tracking",icon:c.Z},{name:"Manage Categories",href:"/manage-categories",icon:u.Z},{name:"Manage Items",href:"/manage-items",icon:m.Z},{name:"Manage Admins",href:"/manage-admins",icon:x.Z},{name:"Analytics",href:"/analytics",icon:h.Z},{name:"Settings",href:"/settings",icon:f.Z}];return(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:r}),(0,s.jsxs)("div",{className:"\n        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n        lg:translate-x-0 lg:static lg:inset-0\n        ".concat(t?"translate-x-0":"-translate-x-full","\n      "),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-primary-600",children:"Taliyo Admin"}),(0,s.jsx)("button",{onClick:r,className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:(0,s.jsx)(g.Z,{size:20})})]}),(0,s.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:l.map(e=>{let t=a.pathname===e.href;return(0,s.jsxs)(n(),{href:e.href,className:"\n                  flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200\n                  ".concat(t?"bg-primary-50 text-primary-600 border-r-2 border-primary-600":"text-gray-700 hover:bg-gray-100 hover:text-gray-900","\n                "),onClick:()=>r(),children:[(0,s.jsx)(e.icon,{size:20,className:"mr-3"}),e.name]},e.name)})}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,s.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"Taliyo Admin Panel v1.0"})})]})]})},p=r(8497),b=r(7918),j=r(8267),v=r(775),N=r(4231),w=e=>{var t;let{onMenuClick:r,user:l}=e,[n,d]=(0,a.useState)(!1),o=(0,i.useRouter)(),c=()=>{try{(0,N.Jn)(),o.push("/login")}catch(e){console.error("Sign out error:",e)}};return(0,s.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 px-6",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:r,className:"p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 lg:hidden",children:(0,s.jsx)(p.Z,{size:20})}),(0,s.jsxs)("div",{className:"ml-4 lg:ml-0",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Welcome back, Admin"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your Taliyo marketplace"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{className:"p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 relative",children:[(0,s.jsx)(b.Z,{size:20}),(0,s.jsx)("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>d(!n),className:"flex items-center space-x-2 p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:[(0,s.jsx)("div",{className:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(j.Z,{size:16,className:"text-white"})}),(0,s.jsx)("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:(null==l?void 0:null===(t=l.email)||void 0===t?void 0:t.split("@")[0])||"Admin"})]}),n&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-100",children:[(0,s.jsx)("div",{className:"font-medium",children:null==l?void 0:l.email}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Administrator"})]}),(0,s.jsxs)("button",{onClick:()=>{d(!1),o.push("/settings")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,s.jsx)(f.Z,{size:16,className:"mr-2"}),"Settings"]}),(0,s.jsxs)("button",{onClick:()=>{d(!1),c()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,s.jsx)(v.Z,{size:16,className:"mr-2"}),"Sign out"]})]})})]})]})]})})},_=e=>{let{children:t,user:r}=e,[l,n]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,s.jsx)(y,{isOpen:l,onClose:()=>n(!1)}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsx)(w,{onMenuClick:()=>n(!0),user:r}),(0,s.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:t})})]})]})}},5151:function(e,t,r){"use strict";r.d(t,{Lr:function(){return a},Rk:function(){return l},nX:function(){return n}});var s=r(5893);function a(e){let{data:t}=e;if(!t||0===t.length)return(0,s.jsx)("div",{className:"w-full h-[300px] flex items-center justify-center bg-gray-50 rounded-lg",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"\uD83D\uDCCA"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Performance Chart"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Data will appear here"})]})});let r=t[t.length-1]||{},a=t[t.length-2]||{},l=r.growth||0,n=a.growth?((l-a.growth)/a.growth*100).toFixed(1):0;return(0,s.jsx)("div",{className:"w-full h-[300px] bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg p-6 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:l}),(0,s.jsx)("div",{className:"text-lg text-gray-700 mb-2",children:"Monthly Growth"}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-sm px-2 py-1 rounded-full ".concat(n>=0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[n>=0?"↗":"↘"," ",Math.abs(n),"%"]})}),(0,s.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Chart will load after database setup"})]})})}function l(e){let{data:t}=e;if(!t||0===t.length)return(0,s.jsx)("div",{className:"w-full h-[300px] flex items-center justify-center bg-gray-50 rounded-lg",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"\uD83D\uDCB0"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Revenue Chart"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Data will appear here"})]})});let r=t.reduce((e,t)=>e+(t.revenue||0),0),a=Math.round(r/t.length);return(0,s.jsx)("div",{className:"w-full h-[300px] bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-6 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-4xl font-bold text-green-600 mb-2",children:["₹",a.toLocaleString()]}),(0,s.jsx)("div",{className:"text-lg text-gray-700 mb-2",children:"Average Revenue"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:["Total: ₹",r.toLocaleString()]}),(0,s.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Chart will load after database setup"})]})})}function n(e){let{data:t}=e;return t&&0!==t.length?(0,s.jsxs)("div",{className:"w-full h-[300px] bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6",children:[(0,s.jsx)("div",{className:"text-center mb-6",children:(0,s.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:"Category Distribution"})}),(0,s.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.name})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-3",children:(0,s.jsx)("div",{className:"h-2 rounded-full",style:{backgroundColor:e.color,width:"".concat(e.value,"%")}})}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[e.value,"%"]})]})]},t))})]}):(0,s.jsx)("div",{className:"w-full h-[300px] flex items-center justify-center bg-gray-50 rounded-lg",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"\uD83D\uDCC8"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Category Distribution"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Data will appear here"})]})})}},6259:function(e,t,r){"use strict";r.d(t,{O:function(){return d}});var s=r(4941),a=r(3454);let l="https://tbouqkdpsdkixrjfbukd.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRib3Vxa2Rwc2RraXhyamZidWtkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NzU2MjQsImV4cCI6MjA3NTU1MTYyNH0.S7wo-mtBlIAO52Er72FSn7uyKZwqyzVvnz-46ik22Kg",i=a.env.SUPABASE_SERVICE_ROLE_KEY;if(!l||!n)throw Error("Missing Supabase environment variables");let d=(0,s.eI)(l,i||n,{auth:{autoRefreshToken:!1,persistSession:!1}});i&&(0,s.eI)(l,i,{auth:{autoRefreshToken:!1,persistSession:!1}})},6111:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(1134).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},437:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(1134).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},noSSR:function(){return n}});let s=r(8754);r(5893),r(7294);let a=s._(r(5491));function l(e){return{default:(null==e?void 0:e.default)||e}}function n(e,t){return delete t.webpack,delete t.modules,e(t)}function i(e,t){let r=a.default,s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};e instanceof Promise?s.loader=()=>e:"function"==typeof e?s.loader=e:"object"==typeof e&&(s={...s,...e});let i=(s={...s,...t}).loader;return(s.loadableGenerated&&(s={...s,...s.loadableGenerated},delete s.loadableGenerated),"boolean"!=typeof s.ssr||s.ssr)?r({...s,loader:()=>null!=i?i().then(l):Promise.resolve(l(()=>null))}):(delete s.webpack,delete s.modules,n(r,s))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return s}});let s=r(8754)._(r(7294)).default.createContext(null)},5491:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});let s=r(8754)._(r(7294)),a=r(1159),l=[],n=[],i=!1;function d(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}class o{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),l=null;function d(){if(!l){let t=new o(e,r);l={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return l.promise()}if(!i){let e=r.webpack?r.webpack():r.modules;e&&n.push(t=>{for(let r of e)if(t.includes(r))return d()})}function c(e,t){!function(){d();let e=s.default.useContext(a.LoadableContext);e&&Array.isArray(r.modules)&&r.modules.forEach(t=>{e(t)})}();let n=s.default.useSyncExternalStore(l.subscribe,l.getCurrentValue,l.getCurrentValue);return s.default.useImperativeHandle(t,()=>({retry:l.retry}),[]),s.default.useMemo(()=>{var t;return n.loading||n.error?s.default.createElement(r.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:l.retry}):n.loaded?s.default.createElement((t=n.loaded)&&t.default?t.default:t,e):null},[e,n])}return c.preload=()=>d(),c.displayName="LoadableComponent",s.default.forwardRef(c)}(d,e)}function u(e,t){let r=[];for(;e.length;){let s=e.pop();r.push(s(t))}return Promise.all(r).then(()=>{if(e.length)return u(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{u(l).then(e,t)}),c.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let r=()=>(i=!0,t());u(n,e).then(r,r)})),window.__NEXT_PRELOADREADY=c.preloadReady;let m=c},5152:function(e,t,r){r(2602)}}]);